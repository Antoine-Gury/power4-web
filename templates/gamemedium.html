<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Puissance 4 - Medium</title>
<link rel="stylesheet" href="/assets/styles/gamemedium.css">
</head>
<body>
<h1>🎮 Puissance 4 - Medium 🎮</h1>

<!-- AJOUT : Vérification de fin de partie -->
{{if .GameOver}}
    {{if eq .Winner -1}}
        <div class="draw">Match nul ! 🤝</div>
    {{else if eq .Winner 1}}
        <div class="winner">Le joueur 1 (Rouge) a gagné ! 🎉</div>
    {{else if eq .Winner 2}}
        <div class="winner">Le joueur 2 (Jaune) a gagné ! 🎉</div>
    {{end}}
{{else}}
    <!-- Si la partie n'est pas finie, affiche le joueur actuel -->
    <div class="info">
    Joueur actuel : <span class="{{if eq .CurrentPlayer 1}}player1{{else}}player2{{end}}">
    {{if eq .CurrentPlayer 1}}Joueur 1 (Rouge){{else}}Joueur 2 (Jaune){{end}}
    </span>
    </div>
{{end}}

<!-- Plateau -->
<div class="board">
{{range $r, $row := .Board}}
  <div class="row">
    {{range $c, $cell := $row}}
      <form method="POST" action="/play" style="display:inline;">
        <input type="hidden" name="column" value="{{$c}}">
        <button type="submit" class="cell {{if eq $cell 1}}player1{{else if eq $cell 2}}player2{{end}}">
        </button>
      </form>
    {{end}}
  </div>
{{end}}
</div>

<!-- Boutons du bas -->
<div class="bottom-buttons">
  <form method="POST" action="/reset" style="display:inline;">
    <button type="submit" class="reset-btn">🔄 Nouvelle Partie</button>
  </form>
  <form action="/menu" style="display:inline;">
    <button type="submit" class="menu-btn">🏠 Retour au menu principal</button>
  </form>
</div>

</body>
</html>